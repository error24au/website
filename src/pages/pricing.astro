---
import Layout from '../layouts/Layout.astro';
import '../styles/global.css';
---

<Layout 
  title="Pricing — Stagely by Error 24"
  description="Simple, honest pricing for theatre companies. Free for small productions, capacity-based pricing for community and professional organisations.">
  
  <div class="min-h-screen">
    
    <!-- Header Section -->
    <section class="pt-20 pb-12 text-center section-slab">
      <div class="max-w-2xl mx-auto px-6">
        <span class="label-editorial mb-4 block">Pricing</span>
        
        <h1 class="mb-6">Simple, honest pricing for theatre companies</h1>
        
        <p class="text-editorial text-muted-foreground mb-8">
          No monthly fees. Pay per production, or save with an annual plan. 
          The free tier is the real product — not a trial.
        </p>
      </div>
    </section>

    <!-- Billing Toggle -->
    <div class="flex items-center justify-center gap-4 mb-12 px-6">
      <button 
        id="btn-production" 
        class="text-sm font-semibold text-foreground"
        data-mode="production"
      >
        Per production
      </button>
      
      <button 
        id="toggle-billing"
        class="relative w-14 h-7 bg-muted rounded-full"
        aria-label="Toggle billing mode"
      >
        <span id="toggle-thumb" class="absolute top-1 left-1 w-5 h-5 bg-white rounded-full shadow-sm transition-transform duration-200"></span>
      </button>
      
      <button 
        id="btn-annual" 
        class="text-sm font-semibold text-muted-foreground"
        data-mode="annual"
      >
        Annual
      </button>
      
      <span id="savings-badge" class="hidden badge-pop">
        Save with 2+ shows
      </span>
    </div>

    <!-- Pricing Cards -->
    <section class="max-w-6xl mx-auto px-6 pb-20">
      <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
        
        <!-- Free Tier -->
        <div class="card-luxe p-8">
          <div class="mb-6">
            <h3 class="text-xl mb-1">Free</h3>
            <p class="text-sm text-muted-foreground">School drama clubs, small youth groups, and anyone getting started.</p>
          </div>
          
          <div class="mb-6">
            <span class="text-4xl number-swiss">$0</span>
          </div>
          
          <p class="text-sm text-muted-foreground mb-6">Free forever. Not a trial.</p>
          
          <a href="mailto:hello@error24.com" class="btn-teal-outline w-full mb-8">
            Get started free
          </a>
          
          <div class="h-px bg-border mb-6"></div>
          
          <p class="label-editorial mb-4">What's included</p>
          
          <ul class="space-y-3">
            <li class="flex items-start gap-3 text-sm">
              <svg class="w-5 h-5 text-black flex-shrink-0 mt-0.5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
              </svg>
              1 active production
            </li>
            <li class="flex items-start gap-3 text-sm">
              <svg class="w-5 h-5 text-black flex-shrink-0 mt-0.5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
              </svg>
              Up to 40 members
            </li>
            <li class="flex items-start gap-3 text-sm">
              <svg class="w-5 h-5 text-black flex-shrink-0 mt-0.5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
              </svg>
              Full scheduling & attendance
            </li>
            <li class="flex items-start gap-3 text-sm">
              <svg class="w-5 h-5 text-black flex-shrink-0 mt-0.5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
              </svg>
              Cast & crew management
            </li>
            <li class="flex items-start gap-3 text-sm">
              <svg class="w-5 h-5 text-black flex-shrink-0 mt-0.5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
              </svg>
              In-app announcements & chat
            </li>
            <li class="flex items-start gap-3 text-sm">
              <svg class="w-5 h-5 text-black flex-shrink-0 mt-0.5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
              </svg>
              Calendar integration
            </li>
            <li class="flex items-start gap-3 text-sm">
              <svg class="w-5 h-5 text-black flex-shrink-0 mt-0.5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
              </svg>
              Location management
            </li>
          </ul>
        </div>

        <!-- Community Tier -->
        <div class="card-luxe p-8 border-primary">
          <!-- Badge -->
          <div class="mb-4">
            <span class="badge-pop">
              Most Popular
            </span>
          </div>
          
          <div class="mb-6">
            <h3 class="text-xl mb-1">Community</h3>
            <p class="text-sm text-muted-foreground">Community theatre, light opera, youth theatre, and volunteer-run organisations.</p>
          </div>
          
          <div class="mb-2">
            <span id="community-price" class="text-4xl number-swiss">$69</span>
            <span id="community-period" class="text-muted-foreground">/production</span>
          </div>
          
          <p id="community-note" class="text-sm text-muted-foreground mb-6">Or $129/year if you do 2+ shows</p>
          
          <a href="mailto:hello@error24.com" class="btn-teal w-full mb-8">
            Start with Community
          </a>
          
          <div class="h-px bg-border mb-6"></div>
          
          <p class="label-editorial mb-4">Everything in Free, plus</p>
          
          <ul class="space-y-3">
            <li class="flex items-start gap-3 text-sm">
              <svg class="w-5 h-5 text-primary flex-shrink-0 mt-0.5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
              </svg>
              Push notifications
            </li>
            <li class="flex items-start gap-3 text-sm">
              <svg class="w-5 h-5 text-primary flex-shrink-0 mt-0.5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
              </svg>
              Up to 3 active productions
            </li>
            <li class="flex items-start gap-3 text-sm">
              <svg class="w-5 h-5 text-primary flex-shrink-0 mt-0.5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
              </svg>
              Unlimited members
            </li>
            <li class="flex items-start gap-3 text-sm">
              <svg class="w-5 h-5 text-primary flex-shrink-0 mt-0.5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
              </svg>
              File storage — 500 MB per production
            </li>
            <li class="flex items-start gap-3 text-sm">
              <svg class="w-5 h-5 text-primary flex-shrink-0 mt-0.5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
              </svg>
              Production history & archive
            </li>
            <li class="flex items-start gap-3 text-sm">
              <svg class="w-5 h-5 text-primary flex-shrink-0 mt-0.5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
              </svg>
              Best-effort email support
            </li>
          </ul>
        </div>

        <!-- Patron Tier -->
        <div class="card-luxe p-8">
          <!-- Badge -->
          <div class="mb-4">
            <span class="badge-ink">
              For Professionals
            </span>
          </div>
          
          <div class="mb-6">
            <h3 class="text-xl mb-1">Patron</h3>
            <p class="text-sm text-muted-foreground">Professional companies, commercial producers, and anyone with paid admin staff.</p>
          </div>
          
          <div class="mb-2">
            <span id="patron-price" class="text-4xl number-swiss">$99</span>
            <span id="patron-period" class="text-muted-foreground">/production</span>
          </div>
          
          <p id="patron-note" class="text-sm text-muted-foreground mb-6">Or $199/year — unlimited productions</p>
          
          <a href="mailto:hello@error24.com" class="btn-teal btn-ink w-full mb-8">
            Start with Patron
          </a>
          
          <div class="h-px bg-border mb-6"></div>
          
          <p class="label-editorial mb-4">Everything in Community, plus</p>
          
          <ul class="space-y-3">
            <li class="flex items-start gap-3 text-sm">
              <svg class="w-5 h-5 text-black flex-shrink-0 mt-0.5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
              </svg>
              File storage — 2 GB per production
            </li>
            <li class="flex items-start gap-3 text-sm">
              <svg class="w-5 h-5 text-black flex-shrink-0 mt-0.5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
              </svg>
              Unlimited concurrent productions
            </li>
            <li class="flex items-start gap-3 text-sm">
              <svg class="w-5 h-5 text-black flex-shrink-0 mt-0.5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
              </svg>
              Your subscription helps keep Stagely free for community & school groups
            </li>
          </ul>
        </div>
      </div>
    </section>

    <!-- Comparison Context -->
    <section class="max-w-2xl mx-auto px-6 pb-12 text-center">
      <p class="text-sm text-muted-foreground">
        <strong class="text-foreground">For context:</strong> $129/year is less than a single costume hire. 
        Less than rights for most shows. Less than one pizza night fundraiser. It's 
        the cost of replacing every WhatsApp group, spreadsheet, and clipboard your 
        production currently runs on.
      </p>
    </section>

    <!-- Honesty Section -->
    <section class="max-w-3xl mx-auto px-6 py-16">
      <div class="panel-spotlight rounded-lg p-8 md:p-12">
        <span class="label-editorial mb-4 block">A Note About Patron</span>
        
        <h3 class="text-xl mb-4">A note about the Patron tier</h3>
        
        <p class="text-muted-foreground mb-4 leading-relaxed">
          Community and Patron have the same features. The difference is the price 
          — and the principle behind it.
        </p>
        
        <p class="text-muted-foreground leading-relaxed">
          If your organisation has a real budget and paid staff, the Patron tier 
          is an honest price that reflects your means. The gap is modest 
          ($30/production, $70/year) because we trust you to self-select — and 
          because your subscription directly helps keep Stagely free for the 
          school drama clubs and community groups that need it most.
        </p>
      </div>
    </section>

    <!-- FAQ Section -->
    <section class="max-w-3xl mx-auto px-6 py-16 border-t border-border">
      <span class="label-editorial mb-8 block text-center">FAQ</span>
      
      <h2 class="text-center mb-12">Questions you might have</h2>
      
      <div class="space-y-8">
        
        <div class="border-b border-border pb-8">
          <h3 class="font-semibold mb-3">Why per-production pricing instead of monthly?</h3>
          <p class="text-muted-foreground leading-relaxed">
            Theatre is seasonal. A school drama club might rehearse for 9 months 
            but only produce one show. A community theatre might be dark for 
            months. Monthly billing charges you for time the app delivers no 
            value. You should only pay when you're actively producing.
          </p>
        </div>
        
        <div class="border-b border-border pb-8">
          <h3 class="font-semibold mb-3">When does annual pricing make sense?</h3>
          <p class="text-muted-foreground leading-relaxed">
            If you do two or more shows a year, annual is cheaper. Two Community 
            productions at $69 each = $138. The annual plan is $129. The maths 
            does the selling.
          </p>
        </div>
        
        <div class="border-b border-border pb-8">
          <h3 class="font-semibold mb-3">Why are Community and Patron self-declared?</h3>
          <p class="text-muted-foreground leading-relaxed">
            Because verifying whether an organisation is "community" or 
            "professional" is impractical and invasive. We trust you. The price 
            gap is small enough that gaming the system isn't worth the effort — or 
            the conscience.
          </p>
        </div>
        
        <div class="border-b border-border pb-8">
          <h3 class="font-semibold mb-3">Is the free tier actually useful, or is it a demo?</h3>
          <p class="text-muted-foreground leading-relaxed">
            It's the real product with sensible limits. A small group can run an 
            entire production — scheduling, attendance, announcements, chat — 
            without paying anything. Ever. It's not a trial. It doesn't expire.
          </p>
        </div>
        
        <div class="border-b border-border pb-8">
          <h3 class="font-semibold mb-3">What kind of support do I get?</h3>
          <p class="text-muted-foreground leading-relaxed">
            Honest support. Stagely is built and maintained by one person. Paid 
            tiers get best-effort email support. There are no SLAs, no guaranteed 
            response times, and no premium support tiers. If something's broken, 
            it gets fixed as fast as humanly possible — regardless of what you're 
            paying.
          </p>
        </div>
        
        <div>
          <h3 class="font-semibold mb-3">Will prices go up?</h3>
          <p class="text-muted-foreground leading-relaxed">
            Only with significant new features. Never just because we can. And 
            founding members get a discounted rate for life.
          </p>
        </div>
      </div>
    </section>

  </div>

  <script>
    let isAnnual = false;
    
    const communityPrice = document.getElementById('community-price');
    const communityPeriod = document.getElementById('community-period');
    const communityNote = document.getElementById('community-note');
    const patronPrice = document.getElementById('patron-price');
    const patronPeriod = document.getElementById('patron-period');
    const patronNote = document.getElementById('patron-note');
    const toggle = document.getElementById('toggle-billing');
    const thumb = document.getElementById('toggle-thumb');
    const btnProduction = document.getElementById('btn-production');
    const btnAnnual = document.getElementById('btn-annual');
    const savingsBadge = document.getElementById('savings-badge');
    
    function updatePricing() {
      if (!communityPrice || !communityPeriod || !communityNote || 
          !patronPrice || !patronPeriod || !patronNote || 
          !toggle || !thumb || !btnProduction || !btnAnnual || !savingsBadge) {
        return;
      }
      
      if (isAnnual) {
        // Update toggle
        toggle.classList.add('bg-primary');
        toggle.classList.remove('bg-muted');
        thumb.style.transform = 'translateX(28px)';
        
        // Update button styles
        btnProduction.classList.remove('text-foreground');
        btnProduction.classList.add('text-muted-foreground');
        btnAnnual.classList.add('text-foreground');
        btnAnnual.classList.remove('text-muted-foreground');
        
        // Show savings badge
        savingsBadge.classList.remove('hidden');
        
        // Update prices
        communityPrice.textContent = '$129';
        communityPeriod.textContent = '/year';
        communityNote.textContent = "That's less than $11/month — or pay $69/production";
        
        patronPrice.textContent = '$199';
        patronPeriod.textContent = '/year';
        patronNote.textContent = 'Unlimited productions — or pay $99/production';
      } else {
        // Update toggle
        toggle.classList.remove('bg-primary');
        toggle.classList.add('bg-muted');
        thumb.style.transform = 'translateX(0)';
        
        // Update button styles
        btnProduction.classList.add('text-foreground');
        btnProduction.classList.remove('text-muted-foreground');
        btnAnnual.classList.remove('text-foreground');
        btnAnnual.classList.add('text-muted-foreground');
        
        // Hide savings badge
        savingsBadge.classList.add('hidden');
        
        // Update prices
        communityPrice.textContent = '$69';
        communityPeriod.textContent = '/production';
        communityNote.textContent = 'Or $129/year if you do 2+ shows';
        
        patronPrice.textContent = '$99';
        patronPeriod.textContent = '/production';
        patronNote.textContent = 'Or $199/year — unlimited productions';
      }
    }
    
    function toggleBilling() {
      isAnnual = !isAnnual;
      updatePricing();
    }
    
    function setBillingMode(mode: string) {
      isAnnual = mode === 'annual';
      updatePricing();
    }
    
    // Add event listeners
    toggle?.addEventListener('click', toggleBilling);
    btnProduction?.addEventListener('click', () => setBillingMode('production'));
    btnAnnual?.addEventListener('click', () => setBillingMode('annual'));
  </script>
</Layout>
